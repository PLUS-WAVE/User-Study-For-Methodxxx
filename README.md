
# User-Study For Methodxxx

This repo is a simple user study for subjective evaluation of different algorithms (Method1, Method2, Method3) based on video comparison and ranking. It provides a web interface for users to rank videos, collects results, and offers scripts for result analysis and video compression.

## Directory Structure

```
.
├── analysis.py           # Script for analyzing user ranking results
├── compress.py           # Script for batch video compression and resizing
├── index.html            # Main user study web page (Chinese)
├── index_en.html         # User study web page (English, optional)
├── server.py             # Flask backend for collecting user results
├── user_results/         # Stores user-submitted ranking results (JSON)
└── videos/               # Video folders for each method and originals
    ├── Method1/
    ├── Method2/
    ├── Method3/
    └── original/
```

## Quick Start

### 1. Install Dependencies

The backend requires Flask:

```bash
pip install flask
```

### 2. Start the Server

Run the following command in the project root:

```bash
python server.py
```

The server will listen on `0.0.0.0:5000`. Open your browser and visit `http://localhost:5000` to access the user study page.

### 3. Organize Video Files

- `videos/original/`: Original videos
- `videos/Method1/`, `videos/Method2/`, `videos/Method3/`: Videos generated by each algorithm. Filenames must match those in `original/`.

### 4. Add Videos to the User Study

- To add a new video for evaluation, add the video file (e.g., `your_video_name.mp4`) to all four folders: `videos/original/`, `videos/Method1/`, `videos/Method2/`, and `videos/Method3/`. The filenames must be identical in all folders.
- Then, edit the `videoNameList` array in `index.html` and add the video name (without the `.mp4` extension) to the list. The order of `videoNameList` determines the display order on the web page.

**Note:** The names in `videoNameList` must exactly match the filenames (without extension) in the video folders, and the order in `videoNameList` is the order in which the cases are shown to users.

### 5. Result Analysis

To analyze all user results, run:

```bash
python analysis.py
```

This will print the ranking distribution for each algorithm and case.

### 6. Video Compression (Optional)

To batch compress and resize videos, use:

```bash
python compress.py
```

You can adjust compression quality and scaling factor in the script.

## Notes

- Ensure all video files are present and named consistently across all method folders and `original/`.
- Results are saved in `user_results/`; back up regularly if needed.

---

For English interface, use `index_en.html`.
